
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Infusões</title>
    <meta name="theme-color" content="#1976d2">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon-192.png">
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('service-worker.js')
            .then(() => console.log("SW registrado"))
            .catch(err => console.error("SW erro:", err));
        });
      }
    </script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
        h1 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 10px; border: 1px solid #ccc; text-align: center; }
        input[type="number"] { padding: 5px; font-size: 16px; width: 100px; }
        .header { background-color: #e0e0e0; }
    </style>
</head>
<body>

<h1>Calculadora de Infusões - UTI</h1>
<label for="peso">Peso do paciente (kg): </label>
<input type="number" id="peso" value="70" onchange="calcularVelocidades()">

<table>
    <thead>
        <tr class="header">
            <th>Medicação</th>
            <th>Categoria</th>
            <th>Unidade</th>
            <th>Concentração</th>
            <th>Dose Mín</th>
            <th>Dose Máx</th>
            <th>Velocidade Mín (mL/h)</th>
            <th>Velocidade Máx (mL/h)</th>
        </tr>
    </thead>
    <tbody id="tabela-infusoes"></tbody>
</table>

<script>
    const dados = [
        { "Medicação": "Dexmedetomidina", "Categoria": "Sedativo", "Unidade": "mcg/kg/h", "Concentração": 2, "Dose Mín": 0.2, "Dose Máx": 0.7 },
        { "Medicação": "Dobutamina", "Categoria": "Inotrópico", "Unidade": "mcg/kg/min", "Concentração": 5000, "Dose Mín": 5, "Dose Máx": 20 },
        { "Medicação": "Fentanila", "Categoria": "Analgésico", "Unidade": "mcg/kg/h", "Concentração": 10, "Dose Mín": 0.5, "Dose Máx": 5 },
        { "Medicação": "Midazolam", "Categoria": "Sedativo", "Unidade": "mcg/kg/h", "Concentração": 1000, "Dose Mín": 20, "Dose Máx": 600 },
        { "Medicação": "Morfina", "Categoria": "Analgésico", "Unidade": "mcg/kg/h", "Concentração": 100, "Dose Mín": 100, "Dose Máx": 3500 },
        { "Medicação": "Nitroglicerina", "Categoria": "Vasodilatador", "Unidade": "mcg/min", "Concentração": 200, "Dose Mín": 3, "Dose Máx": 200 },
        { "Medicação": "Nitroprussiato", "Categoria": "Vasodilatador", "Unidade": "mcg/kg/min", "Concentração": 200, "Dose Mín": 0.5, "Dose Máx": 2 },
        { "Medicação": "Norepinefrina", "Categoria": "Vasopressor", "Unidade": "mcg/kg/min", "Concentração": 160, "Dose Mín": 0.1, "Dose Máx": 2 },
        { "Medicação": "Propofol", "Categoria": "Sedativo", "Unidade": "mcg/kg/min", "Concentração": 2000, "Dose Mín": 5, "Dose Máx": 50 },
        { "Medicação": "Rocurônio", "Categoria": "Bloqueador Neuromuscular", "Unidade": "mcg/kg/h", "Concentração": 1000, "Dose Mín": 300, "Dose Máx": 600 },
        { "Medicação": "Vasopressina", "Categoria": "Vasopressor", "Unidade": "UI/min", "Concentração": 0.2, "Dose Mín": 0.01, "Dose Máx": 0.04 }
    ];

    function calcularVelocidades() {
        const peso = parseFloat(document.getElementById("peso").value);
        const corpoTabela = document.getElementById("tabela-infusoes");
        corpoTabela.innerHTML = "";

        dados.forEach(d => {
            let velMin = "", velMax = "";
            if (d.Unidade === "mcg/kg/min") {
                velMin = ((d["Dose Mín"] * peso * 60) / d.Concentração).toFixed(2);
                velMax = ((d["Dose Máx"] * peso * 60) / d.Concentração).toFixed(2);
            } else if (d.Unidade === "mcg/kg/h") {
                velMin = ((d["Dose Mín"] * peso) / d.Concentração).toFixed(2);
                velMax = ((d["Dose Máx"] * peso) / d.Concentração).toFixed(2);
            } else if (d.Unidade === "mcg/min") {
                velMin = ((d["Dose Mín"] * 60) / d.Concentração).toFixed(2);
                velMax = ((d["Dose Máx"] * 60) / d.Concentração).toFixed(2);
            } else if (d.Unidade === "UI/min") {
                velMin = ((d["Dose Mín"] * 60) / d.Concentração).toFixed(2);
                velMax = ((d["Dose Máx"] * 60) / d.Concentração).toFixed(2);
            }
            corpoTabela.innerHTML += `
                <tr>
                    <td>${d.Medicação}</td>
                    <td>${d.Categoria}</td>
                    <td>${d.Unidade}</td>
                    <td>${d.Concentração}</td>
                    <td>${d["Dose Mín"]}</td>
                    <td>${d["Dose Máx"]}</td>
                    <td>${velMin}</td>
                    <td>${velMax}</td>
                </tr>`;
        });
    }

    calcularVelocidades();
</script>

</body>
</html>
